<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Book Ticket - TransitGo</title>
Â  <link rel="icon" href="./images/logo.png">
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  min-height: 100vh;
Â  Â  Â  color: #fff;
Â  Â  }
Â  Â  .container {
Â  Â  Â  width: 400px;
Â  Â  Â  background: rgba(255,255,255,0.1);
Â  Â  Â  padding: 30px;
Â  Â  Â  border-radius: 15px;
Â  Â  Â  box-shadow: 0 8px 25px rgba(0,0,0,0.4);
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  h2 { margin-bottom: 20px; color: #00c6ff; }
Â  Â  .input-group { margin-bottom: 15px; text-align: left; }
Â  Â  .input-group label { font-size: 0.9rem; display: block; margin-bottom: 5px; }
Â  Â  .input-group input, .input-group select {
Â  Â  Â  width: 100%; padding: 10px; border: none; border-radius: 8px; outline: none;
Â  Â  }
Â  Â  /* Override default browser styles for date/time inputs */
Â  Â  .input-group input[type="date"],
Â  Â  .input-group input[type="time"] {
Â  Â  Â  -webkit-appearance: none;
Â  Â  Â  appearance: none;
Â  Â  }
Â  Â  .btn {
Â  Â  Â  width: 100%; padding: 10px; border: none; border-radius: 8px;
Â  Â  Â  background: #00c6ff; color: white; font-size: 1rem; cursor: pointer;
Â  Â  Â  transition: background 0.3s;
Â  Â  }
Â  Â  .btn:hover { background: #0072ff; }
Â  Â  a { color: #00c6ff; text-decoration: none; transition: color 0.3s; }
Â  Â  a:hover { color: #4dc2ff; }

Â  Â  /* =================================
Â  Â  Â  Â  MEDIA QUERIES FOR RESPONSIVENESS
Â  Â  Â  ================================= */

Â  Â  /* 1. Tablet and Smaller Desktops (Max width 768px) */
Â  Â  @media (max-width: 768px) {
Â  Â  Â  .container {
Â  Â  Â  Â  /* Increase width slightly for better use of tablet screen space */
Â  Â  Â  Â  width: 80%;
Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  padding: 25px;
Â  Â  Â  }
Â  Â  Â  h2 {
Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  }
Â  Â  }

Â  Â  /* 2. Mobile Devices (Max width 480px) */
Â  Â  @media (max-width: 480px) {
Â  Â  Â  body {
Â  Â  Â  Â  /* Ensure full-screen background on small devices */
Â  Â  Â  Â  align-items: flex-start; /* Start content from top, not center */
Â  Â  Â  Â  padding: 30px 15px;
Â  Â  Â  Â  min-height: 0; /* Allow body height to shrink if content is small */
Â  Â  Â  }
Â  Â  Â  .container {
Â  Â  Â  Â  /* Take up almost all available width with minimal padding */
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  box-sizing: border-box; /* Include padding in the element's total width and height */
Â  Â  Â  Â  margin-top: 30px; /* Space from top */
Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  }
Â  Â  Â  h2 {
Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  }
Â  Â  Â  .input-group label {
Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  }
Â  Â  Â  .btn {
Â  Â  Â  Â  font-size: 0.95rem;
Â  Â  Â  Â  padding: 12px;
Â  Â  Â  }
Â  Â  Â  .input-group input, .input-group select {
Â  Â  Â  Â  padding: 12px;
Â  Â  Â  }
Â  Â  Â  p {
Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>

<div class="container">
Â  <h2>Book Ticket ğŸŸ</h2>
Â  <form id="bookingForm">
Â  Â  <div class="input-group">
Â  Â  Â  <label>From</label>
Â  Â  Â  <select id="from" required>
Â  Â  Â  Â  <option value="">Select Origin</option>
Â  Â  Â  Â  <option value="Chittoor">Chittoor</option>
Â  Â  Â  </select>
Â  Â  </div>
Â  Â  <div class="input-group">
Â  Â  Â  <label>To</label>
Â  Â  Â  <select id="to" required>
Â  Â  Â  Â  <option value="">Select Destination</option>
Â  Â  Â  Â  <option value="Chennai">Chennai</option>
Â  Â  Â  Â  <option value="Vellore">Vellore</option>
Â  Â  Â  Â  <option value="Tirupathur">Tirupathur</option>
Â  Â  Â  Â  <option value="Punjab">Punjab</option>
Â  Â  Â  Â  <option value="Haryana">Haryana</option>
Â  Â  Â  Â  <option value="Uttar Pradesh">Uttar Pradesh</option>
Â  Â  Â  Â  <option value="Himachal Pradesh">Himachal Pradesh</option>
Â  Â  Â  Â  <option value="Gujarat">Gujarat</option>
Â  Â  Â  Â  <option value="Madhya Pradesh">Madhya Pradesh</option>
Â  Â  Â  </select>
Â  Â  </div>
Â  Â  <div class="input-group">
Â  Â  Â  <label>Date</label>
Â  Â  Â  <input type="date" id="date" required>
Â  Â  </div>
Â  Â  <div class="input-group">
Â  Â  Â  <label>Departure Time</label>
Â  Â  Â  <input type="time" id="time" required>
Â  Â  </div>
Â  Â  <div class="input-group">
Â  Â  Â  <label>Seats</label>
Â  Â  Â  <select id="seats">
Â  Â  Â  Â  <option>1</option><option>2</option><option>3</option><option>4</option>
Â  Â  Â  </select>
Â  Â  </div>
Â  Â  <button type="submit" class="btn">Confirm Booking</button>
Â  </form>
Â  <p style="margin-top:15px;"><a href="user-dashboard.html">â¬… Back to Dashboard</a></p>
</div>

<script>
Â  document.getElementById("bookingForm").addEventListener("submit", function(e) {
Â  Â  e.preventDefault();

Â  Â  const from = document.getElementById("from").value;
Â  Â  const to = document.getElementById("to").value;
Â  Â  const date = document.getElementById("date").value;
Â  Â  const time = document.getElementById("time").value;
Â  Â  const seats = parseInt(document.getElementById("seats").value);

Â  Â  // Allowed routes only
Â  Â  const allowedDestinations = ["Chennai","Vellore","Tirupathur","Punjab","Haryana","Uttar Pradesh","Himachal Pradesh","Gujarat","Madhya Pradesh"];
Â  Â  if (!from || !to || !date || !time) {
Â  Â  Â  alert("Please fill all details!");
Â  Â  Â  return;
Â  Â  }
Â  Â  if (!allowedDestinations.includes(to)) {
Â  Â  Â  alert(`âŒ Sorry! We currently do not serve the route to ${to}. Please select a valid destination.`);
Â  Â  Â  return;
Â  Â  }

Â  Â  const user = JSON.parse(localStorage.getItem("currentUser"));
Â  Â  if (!user) {
Â  Â  Â  alert("Please login first!");
Â  Â  Â  window.location.href = "login.html";
Â  Â  Â  return;
Â  Â  }

Â  Â  const price = seats * 250;

Â  Â  const booking = {
Â  Â  Â  id: "TID" + Date.now(),
Â  Â  Â  email: user.email,
Â  Â  Â  from,
Â  Â  Â  to,
Â  Â  Â  date,
Â  Â  Â  time,
Â  Â  Â  seats,
Â  Â  Â  price,
Â  Â  Â  bookedAt: new Date().toLocaleString()
Â  Â  };

Â  Â  let allBookings = JSON.parse(localStorage.getItem("allBookings")) || [];
Â  Â  allBookings.push(booking);
Â  Â  localStorage.setItem("allBookings", JSON.stringify(allBookings));

Â  Â  alert("âœ… Ticket booked successfully!");
Â  Â  window.location.href = "my-bookings.html";
Â  });
</script>

</body>
</html>
